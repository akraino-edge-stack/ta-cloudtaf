{
  "comments": [
    {
      "key": {
        "uuid": "ad7ec963_65e8b570",
        "filename": "testcases/logfwd/elasticsearch_target.robot",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 233
      },
      "writtenOn": "2019-09-26T13:36:50Z",
      "side": 1,
      "message": "Are you sure that curl has non-zero rc if ES has problems?\n\nI think this health check is better:\n$ curl http://elasticsearch-logging.kube-system.svc.rec.io:9200/_cluster/health?pretty\n{\n  \"cluster_name\" : \"elasticsearch\",\n  \"status\" : \"green\",\n  \"timed_out\" : false,\n  \"number_of_nodes\" : 6,\n  \"number_of_data_nodes\" : 3,\n  \"active_primary_shards\" : 13,\n  \"active_shards\" : 37,\n  \"relocating_shards\" : 0,\n  \"initializing_shards\" : 0,\n  \"unassigned_shards\" : 0,\n  \"delayed_unassigned_shards\" : 0,\n  \"number_of_pending_tasks\" : 0,\n  \"number_of_in_flight_fetch\" : 0,\n  \"task_max_waiting_in_queue_millis\" : 0,\n  \"active_shards_percent_as_number\" : 100.0\n}\nwhere status should be green",
      "range": {
        "startLine": 63,
        "startChar": 23,
        "endLine": 63,
        "endChar": 44
      },
      "revId": "62097f107e5c3b382425d1c382b061973f33398c",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe19b78c_a6436e47",
        "filename": "testcases/logfwd/elasticsearch_target.robot",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 208
      },
      "writtenOn": "2019-09-26T13:38:34Z",
      "side": 1,
      "message": "status should be green.\n\n$ curl http://elasticsearch-logging.kube-system.svc.rec.io:9200/_cluster/health?pretty\n{\n  \"cluster_name\" : \"elasticsearch\",\n  \"status\" : \"green\",\n  \"timed_out\" : false,\n  \"number_of_nodes\" : 6,\n  \"number_of_data_nodes\" : 3,\n  \"active_primary_shards\" : 6,\n  \"active_shards\" : 18,\n  \"relocating_shards\" : 0,\n  \"initializing_shards\" : 0,\n  \"unassigned_shards\" : 0,\n  \"delayed_unassigned_shards\" : 0,\n  \"number_of_pending_tasks\" : 0,\n  \"number_of_in_flight_fetch\" : 0,\n  \"task_max_waiting_in_queue_millis\" : 0,\n  \"active_shards_percent_as_number\" : 100.0\n}",
      "range": {
        "startLine": 63,
        "startChar": 43,
        "endLine": 63,
        "endChar": 44
      },
      "revId": "62097f107e5c3b382425d1c382b061973f33398c",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": false
    }
  ]
}